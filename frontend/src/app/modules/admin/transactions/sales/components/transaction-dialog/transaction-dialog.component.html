<form [formGroup]="dialogForm" (ngSubmit)="submitForm()">
    <h1 mat-dialog-title>{{ dialogHeader }}</h1>
    <div class="border-t border-b py-2" mat-dialog-content >
        <div class="" fxLayout="row">
            <div fxLayoutGap="20" fxFlex="60">
                <div fxLayoutGap="10" fxLayout="row">
                    <div fxFlex="70">
                        <mat-form-field
                        class="w-full mt-2">
                            <label 
                                for="floating_outlined" 
                                class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                                Transaction Date
                            </label>
                            <input 
                                [matDatepicker]="picker1" 
                                matInput 
                                formControlName="transaction_date" 
                                class="block pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
                                placeholder=" " />
                            <mat-datepicker-toggle
                                matSuffix
                                [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                    </div>
                    <div fxFlex="30">
                        <mat-form-field class="w-full mt-2">
                            <input 
                            matInput 
                            formControlName="work_order" 
                            class="block pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
                            placeholder=" " />
                            <label 
                                class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                                W.O. #
                            </label>
                        </mat-form-field>
                    </div>
                </div>
                <div fxLayoutGap="10" fxLayout="row">
                    <div fxFlex="70">
                        <mat-form-field *ngIf="!dialogForm.value.member" class="w-full">
                            <input 
                            matInput 
                            formControlName="name" 
                            class="block pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
                            placeholder=" " />
                            <label 
                                class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                                Name
                            </label>
                        </mat-form-field>
                        <mat-form-field *ngIf="dialogForm.value.member" class="w-full">
                            <label 
                                *ngIf="dialogForm.value.member_id != ''"
                                class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                                Select Member
                            </label>
                            <mat-select formControlName="member_id" placeholder="Select Member">
                              <mat-select-filter [array]="variables" [displayMember]="'name'" (filteredReturn)="filteredVariables = $event"></mat-select-filter>
                              <mat-option [value]="variable.id" *ngFor="let variable of filteredVariables">
                                {{variable.name}}
                              </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div fxFlex="30">
                        <mat-slide-toggle 
                            (change)="toggleMember($event)"
                            formControlName="member"
                            color="primary"
                            class="mt-3">
                            Member?
                        </mat-slide-toggle>
                    </div>
                </div>
                <div fxLayout="column" fxLayoutAlign="start start" class="mr-4">
                    <mat-form-field *ngIf="!dialogForm.value.member" class="w-full">
                        <label 
                            *ngIf="dialogForm.value.vehicle_id != ''"
                            class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                            Select Vehicle
                        </label>
                        <mat-select formControlName="vehicle_id" placeholder="Select Vehicle">
                          <mat-select-filter [array]="variables" [displayMember]="'name'" (filteredReturn)="filteredVariables = $event"></mat-select-filter>
                          <mat-option [value]="variable.id" *ngFor="let variable of filteredVariables">
                            {{variable.name}}
                          </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field *ngIf="dialogForm.value.member" class="w-full">
                        <label 
                            *ngIf="dialogForm.value.property_id != ''"
                            class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                            Select Property
                        </label>
                        <mat-select [disabled]="!dialogForm.value.member_id" formControlName="property_id" placeholder="Select Property">
                          <mat-select-filter [array]="variables" [displayMember]="'name'" (filteredReturn)="filteredVariables = $event"></mat-select-filter>
                          <mat-option [value]="variable.id" *ngFor="let variable of filteredVariables">
                            {{variable.name}}
                          </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field *ngIf="!dialogForm.value.member" class="w-full">
                        <input 
                        matInput 
                        formControlName="plate_no" 
                        class="block pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
                        placeholder=" " />
                        <label 
                            class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                            Plate Number
                        </label>
                    </mat-form-field>
                    <mat-form-field *ngIf="!dialogForm.value.member" class="w-full">
                        <input 
                        matInput 
                        type="number"
                        formControlName="odo" 
                        class="block pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
                        placeholder=" " />
                        <label 
                            class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                            Reading Actual Odometer
                        </label>
                    </mat-form-field>
                    <mat-form-field *ngIf="!dialogForm.value.member" class="w-full">
                        <input 
                        matInput
                        type="number"
                        formControlName="contact_no" 
                        class="block pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
                        placeholder=" " />
                        <mat-hint>Example 09350000000</mat-hint>
                        <label 
                            class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                            Contact Number
                        </label>
                    </mat-form-field>
                    <mat-form-field
                        *ngIf="dialogForm.value.add_as_member"
                        class="w-full">
                        <label 
                            for="floating_outlined" 
                            class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                            Birth Date
                        </label>
                        <input 
                            [matDatepicker]="picker2" 
                            matInput 
                            formControlName="birthdate" 
                            class="block pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
                            placeholder=" " />
                        <mat-datepicker-toggle
                            matSuffix
                            [for]="picker2"></mat-datepicker-toggle>
                        <mat-datepicker #picker2></mat-datepicker>
                    </mat-form-field>
                    <mat-form-field *ngIf="dialogForm.value.add_as_member" class="w-full">
                        <input 
                        matInput
                        formControlName="beneficiary_name" 
                        class="block pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
                        placeholder=" " />
                        <label 
                            class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                            Beneficiary Name
                        </label>
                    </mat-form-field>
                    <mat-form-field *ngIf="dialogForm.value.add_as_member" class="w-full">
                        <input 
                        matInput
                        type="number"
                        formControlName="beneficiary_contact" 
                        class="block pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
                        placeholder=" " />
                        <mat-hint>Example 09350000000</mat-hint>
                        <label 
                            class="absolute text-lg text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">
                            Beneficiary Contact Number
                        </label>
                    </mat-form-field>
                    <mat-slide-toggle
                        *ngIf="!dialogForm.value.member"
                        (change)="toggleAddAsMember($event)"
                        formControlName="add_as_member"
                        color="primary">
                        Add as New Member?
                    </mat-slide-toggle>
                </div>
            </div>
            <div fxFlex="40">
                <div class="border mt-2 p-2 rounded-md border-black border-b-2">
                    <span class="block text-xl font-bold">Summary of Purchase</span>
                    <span class="block"><b>SUB TOTAL: </b> ₱0 </span>
                    <span class="block"><b>DISCOUNT: </b> ₱0</span>
                    <span class="block text-lg"><b>TOTAL: ₱0</b> </span>
                </div>
            </div>
        </div>
        <hr class="w-full border-orange-500 border-t mb-0">
            <h1>SERVICES</h1>
    </div>
    <div mat-dialog-actions [align]="'end'" class="m-b-5">
        <button mat-flat-button color="warn" mat-dialog-close>Close</button>
        <button mat-flat-button color="primary" [disabled]="!dialogForm.valid">
          {{ actionBtn }}
        </button>
    </div>
</form>